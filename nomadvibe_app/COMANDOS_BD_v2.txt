CREATION OF DATABASE:

CREATE DATABASE nomadvibe;

USE nomadvibe;


---------------------------------------------------------------

CREATION OF TABLES:

CREATE TABLE UTILIZADORES(ID int NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			NOME varchar(255) NOT NULL, 
			MORADA VARCHAR(255) NOT NULL, 
			CODIGO_POSTAL VARCHAR(255) NOT NULL, 
			LOCALIDADE VARCHAR(255) NOT NULL, 
			TELEFONE VARCHAR(255), 
			ANIVERSARIO VARCHAR(255) NOT NULL);

CREATE TABLE PERFIS(	ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			PERFIL VARCHAR(250) NOT NULL);

CREATE TABLE CONTAS(	ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			UTILIZADOR VARCHAR(255) NOT NULL, 
			PASSWORD VARCHAR(255) NOT NULL, 
			ACTIVO BIT(1) NOT NULL, 
			PERFIL INT NOT NULL REFERENCES PERFIS(ID), 
			ID_UTILIZADOR INT NOT NULL REFERENCES UTILIZADORES(ID), 
			ROLE INT NOT NULL REFERENCES ROLES(ID), 
			VALIDADE DATE NOT NULL);

CREATE TABLE ROLES(	ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			ROLE VARCHAR(255) NOT NULL);

CREATE TABLE GUIDS(	ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			GUID VARCHAR(255) NOT NULL, 
			DATA DATETIME NOT NULL, 
			ACTIVO BIT (1) NOT NULL, 
			USER INT NOT NULL REFERENCES CONTAS(ID),
			PARCEIRO INT NOT NULL REFERENCES CONTAS(ID));

CREATE TABLE MARCADORES(ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			NOME VARCHAR(255) NOT NULL, 
			ID_CATEGORIA INT NOT NULL REFERENCES CATEGORIAS(ID), 
			LATITUDE VARCHAR(255) NOT NULL, 
			LONGITUDE VARCHAR(255) NOT NULL, 
			DESCRICAO VARCHAR(255) NOT NULL, 
			ID_UTILIZADOR INT NOT NULL REFERENCES UTILIZADORES(ID));

CREATE TABLE CATEGORIAS(ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
			CATEGORIA VARCHAR(250) NOT NULL);

CREATE TABLE PREFERENCIAS(	ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
				ID_UTILIZADOR INT NOT NULL REFERENCES UTILIZADORES(ID),
				ID_CATEGORIA INT NOT NULL REFERENCES CATEGORIAS(ID),);

---------------------------------------------------------------

INSERTION OF MULTIPLE LINES:

INSERT INTO ROLES(ROLE) VALUES ("Parceiro"), ("Nomada");
INSERT INTO PERFIS(PERFIL) VALUES ("Admin"), ("User"), ("Guest");
INSERT INTO CATEGORIAS(CATEGORIA) VALUES ("Restaurante"), ("Bar"), ("Caf√©"), ("Discoteca"), ("Ginasio"), ("Livraria");

---------------------------------------------------------------

